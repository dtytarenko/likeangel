(()=>{"use strict";function e(e){return{namespaced:!0,state:e}}class t{constructor(){this.$=window.jQuery,this.successHandler=null,this.errorHandler=null,this.responseHandler=null,this.xhr=null}success(e){return this.successHandler=e,this}catch(e){return this.errorHandler=e,this}response(e){return this.responseHandler=e,this}abort(){return this.xhr&&this.xhr.abort(),this}post(e,t){let a=this,s=a.$;return this.xhr=s.ajax({method:"POST",url:wc_ukr_shipping_globals.ajaxUrl,data:Object.assign({action:e,_token:wc_ukr_shipping_globals.nonce},t),dataType:"json",success:function(e){"function"==typeof a.successHandler&&a.successHandler(e)},error:function(e,t,s){"function"==typeof a.errorHandler&&a.errorHandler(e,t,s)},complete:function(){"function"==typeof a.responseHandler&&a.responseHandler()}}),this}}const a=function(e,a){return window.jQuery||console.error("jQuery not found."),(new t).post(e,a)};function s(e){return new Promise(((t,s)=>{var n;(n=e.recipient,new Promise(((e,t)=>{"Doors"!==n.service_type?"organization"===n.type?function(e,t,s){e.organization_ref?a("wcus_counterparty_contact_create",{ref:e.organization_ref,firstname:e.firstname,lastname:e.lastname,middlename:e.middlename,phone:e.phone}).success((function(a){a.success?t({ref:e.organization_ref,contact_ref:a.data.contact_ref}):a.errors&&s(a.errors)})):s(["Указан некорректный ЕГРПОУ"])}(n,e,t):function(e,t,s){a("wcus_counterparty_create",{firstname:e.firstname,lastname:e.lastname,middlename:e.middlename,phone:e.phone,email:e.email}).success((function(e){e.success?t(e.data):e.errors&&s(e.errors)}))}(n,e,t):e(null)}))).then((function(s){t(function(e,t){return new Promise(((s,n)=>{let r={ttn:e.ttn,options:e.options,sender:{},recipient:{}};["sender","recipient"].forEach((function(t){r[t].area_ref=e[t].area_ref,r[t].city_ref=e[t].city_ref,r[t].warehouse_ref=e[t].warehouse_ref,r[t].settlement_name=e[t].settlement.meta.name,r[t].settlement_region=e[t].settlement.meta.region,r[t].settlement_area=e[t].settlement.meta.area,r[t].street_name=e[t].street.meta.name,r[t].house=e[t].house,r[t].flat=e[t].flat,r[t].service_type=e[t].service_type})),r.sender.ref=e.sender.ref,r.sender.contact_ref=e.sender.contact_ref,r.sender.phone=e.sender.phone,t&&(r.recipient.ref=t.ref,r.recipient.contact_ref=t.contact_ref),r.recipient.type=e.recipient.type,r.recipient.edrpou=e.recipient.edrpou,r.recipient.organization_ownership_form=e.recipient.organization_ownership_form,r.recipient.organization_name=e.recipient.organization_name,r.recipient.firstname=e.recipient.firstname,r.recipient.lastname=e.recipient.lastname,r.recipient.middlename=e.recipient.middlename,r.recipient.phone=e.recipient.phone,r.recipient.email=e.recipient.email,a("wcus_ttn_save",r).success((function(e){e.success?s(e.data):n(e.data)}))}))}(e,s))})).catch(s)}))}let n=wcus_ttn_form_state.ttn.seats.length;var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wcus-settings wcus-settings--full",class:{"wcus-state-loading":e.isLocked}},[a("div",{staticClass:"wcus-settings__header"},[a("h1",{staticClass:"wcus-settings__title"},[e._v(e._s(e.$t("form_title")))]),e._v(" "),a("button",{staticClass:"wcus-btn wcus-btn--primary wcus-btn--md wcus-settings__submit wcus-ttn-form__submit",on:{click:function(t){return t.preventDefault(),e.save.apply(null,arguments)}}},[e._v(e._s(e.$t("btn_submit")))])]),e._v(" "),a("div",{staticClass:"wcus-settings__content"},[e.created?a("success-section",{attrs:{response:e.createdData}}):a("div",{staticClass:"wc-ukr-shipping-ttn-form"},[a("common-section"),e._v(" "),a("sender-section"),e._v(" "),a("recipient-section")],1),e._v(" "),e.created?e._e():a("div",{staticStyle:{"padding-top":"15px","border-top":"1px solid #eee"}},[a("div",{staticClass:"wcus-form-group wcus-form-group--horizontal"},[a("label",{staticClass:"wcus-switcher"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.autoTracking,expression:"autoTracking"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.autoTracking)?e._i(e.autoTracking,null)>-1:e.autoTracking},on:{change:function(t){var a=e.autoTracking,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=e._i(a,null);s.checked?r<0&&(e.autoTracking=a.concat([null])):r>-1&&(e.autoTracking=a.slice(0,r).concat(a.slice(r+1)))}else e.autoTracking=n}}}),e._v(" "),a("span",{staticClass:"wcus-switcher__control"})]),e._v(" "),a("div",{staticClass:"wcus-control-label"},[e._v(e._s(e.$t("btn_add_to_tracking")))])])])],1),e._v(" "),a("div",{staticClass:"wcus-ttn-mobile-submit"},[a("button",{staticClass:"wcus-btn wcus-btn--primary wcus-btn--md wcus-settings__submit",on:{click:function(t){return t.preventDefault(),e.save.apply(null,arguments)}}},[e._v(e._s(e.$t("btn_submit")))])])])};r._withStripped=!0;var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wc-ukr-shipping-ttn-form__col-4"},[a("div",{staticClass:"wc-ukr-shipping-modal-group"},[a("div",{staticClass:"wc-ukr-shipping-modal-group__heading"},[e._v(e._s(e.$t("section_title")))]),e._v(" "),a("div",{staticClass:"wc-ukr-shipping-modal-group__content"},[a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"payer_type"}},[e._v(e._s(e.$t("label_payer_type")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.ttn.payer_type,expression:"ttn.payer_type"}],staticClass:"wcus-form-control",attrs:{id:"payer_type",name:"payer_type"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.ttn,"payer_type",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Sender"}},[e._v(e._s(e.$t("payer_type_sender")))]),e._v(" "),a("option",{attrs:{value:"Recipient"}},[e._v(e._s(e.$t("payer_type_recipient")))])])]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"payment_method"}},[e._v(e._s(e.$t("label_payment_method")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.ttn.payment_method,expression:"ttn.payment_method"}],staticClass:"wcus-form-control",attrs:{id:"payment_method",name:"payment_method"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.ttn,"payment_method",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Cash",selected:""}},[e._v(e._s(e.$t("payment_method_cash")))]),e._v(" "),a("option",{attrs:{value:"NonCash"}},[e._v(e._s(e.$t("payment_method_non_cash")))])])]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"date_time"}},[e._v(e._s(e.$t("label_date")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ttn.date,expression:"ttn.date"}],staticClass:"wcus-form-control",attrs:{type:"date",id:"date_time",name:"date_time"},domProps:{value:e.ttn.date},on:{input:function(t){t.target.composing||e.$set(e.ttn,"date",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"cargo_type"}},[e._v(e._s(e.$t("label_cargo_type")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.ttn.cargo_type,expression:"ttn.cargo_type"}],staticClass:"wcus-form-control",attrs:{id:"cargo_type",name:"cargo_type"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.ttn,"cargo_type",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Cargo"}},[e._v(e._s(e.$t("cargo_type_cargo")))]),e._v(" "),a("option",{attrs:{value:"Documents"}},[e._v(e._s(e.$t("cargo_type_documents")))]),e._v(" "),a("option",{attrs:{value:"TiresWheels"}},[e._v(e._s(e.$t("cargo_type_wheels")))]),e._v(" "),a("option",{attrs:{value:"Pallet"}},[e._v(e._s(e.$t("cargo_type_pallet")))]),e._v(" "),a("option",{attrs:{value:"Parcel",selected:""}},[e._v(e._s(e.$t("cargo_type_parcel")))])])]),e._v(" "),a("div",{staticClass:"wcus-form-group wcus-form-group--horizontal"},[a("label",{staticClass:"wcus-switcher"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.globalParams,expression:"globalParams"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.globalParams)?e._i(e.globalParams,null)>-1:e.globalParams},on:{change:function(t){var a=e.globalParams,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=e._i(a,null);s.checked?r<0&&(e.globalParams=a.concat([null])):r>-1&&(e.globalParams=a.slice(0,r).concat(a.slice(r+1)))}else e.globalParams=n}}}),e._v(" "),a("span",{staticClass:"wcus-switcher__control"})]),e._v(" "),a("div",{staticClass:"wcus-control-label"},[e._v(e._s(e.$t("global_params_title")))])]),e._v(" "),e.globalParams?a("product-globals"):a("product-seats"),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"cost"}},[e._v(e._s(e.$t("label_cost")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ttn.cost,expression:"ttn.cost"}],staticClass:"wcus-form-control",attrs:{type:"text",name:"cost",id:"cost"},domProps:{value:e.ttn.cost},on:{input:function(t){t.target.composing||e.$set(e.ttn,"cost",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"description"}},[e._v(e._s(e.$t("label_description")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ttn.description,expression:"ttn.description"}],staticClass:"wcus-form-control",attrs:{type:"text",name:"description",id:"description"},domProps:{value:e.ttn.description},on:{input:function(t){t.target.composing||e.$set(e.ttn,"description",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"barcode"}},[e._v(e._s(e.$t("label_barcode")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ttn.barcode,expression:"ttn.barcode"}],staticClass:"wcus-form-control",attrs:{type:"text",name:"barcode",id:"barcode"},domProps:{value:e.ttn.barcode},on:{input:function(t){t.target.composing||e.$set(e.ttn,"barcode",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"additional_information"}},[e._v(e._s(e.$t("label_additional")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ttn.additional,expression:"ttn.additional"}],staticClass:"wcus-form-control",attrs:{type:"text",name:"additional_information",id:"additional_information"},domProps:{value:e.ttn.additional},on:{input:function(t){t.target.composing||e.$set(e.ttn,"additional",t.target.value)}}})]),e._v(" "),a("payment-control"),e._v(" "),a("backward-delivery")],1)])])};i._withStripped=!0;var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"wcus-form-group wcus-form-group--horizontal"},[a("label",{staticClass:"wcus-switcher"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.active)?e._i(e.active,null)>-1:e.active},on:{change:function(t){var a=e.active,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=e._i(a,null);s.checked?r<0&&(e.active=a.concat([null])):r>-1&&(e.active=a.slice(0,r).concat(a.slice(r+1)))}else e.active=n}}}),e._v(" "),a("span",{staticClass:"wcus-switcher__control"})]),e._v(" "),a("div",{staticClass:"wcus-control-label"},[e._v(e._s(e.$t("label_active")))])]),e._v(" "),e.active?a("div",{staticClass:"wcus-control-group"},[a("div",{staticClass:"wcus-control-group__content"},[a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"backward_type"}},[e._v(e._s(e.$t("label_type")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.ttn.backward_delivery_type,expression:"ttn.backward_delivery_type"}],staticClass:"wcus-form-control",attrs:{id:"backward_type",name:"backward_type"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.ttn,"backward_delivery_type",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Money"}},[e._v(e._s(e.$t("type_money")))])])]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"backward_payer_type"}},[e._v(e._s(e.$t("label_payer")))]),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.ttn.backward_delivery_payer,expression:"ttn.backward_delivery_payer"}],staticClass:"wcus-form-control",attrs:{id:"backward_payer_type",name:"backward_payer_type"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.ttn,"backward_delivery_payer",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"Recipient",selected:""}},[e._v(e._s(e.$t("payer_recipient")))]),e._v(" "),a("option",{attrs:{value:"Sender"}},[e._v(e._s(e.$t("payer_sender")))])])]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"backward_cost"}},[e._v(e._s(e.$t("label_cost")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ttn.backward_delivery_cost,expression:"ttn.backward_delivery_cost"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"backward_cost",name:"backward_cost"},domProps:{value:e.ttn.backward_delivery_cost},on:{input:function(t){t.target.composing||e.$set(e.ttn,"backward_delivery_cost",t.target.value)}}})])])]):e._e()])};function l(e,t,a,s,n,r,i,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=a,c._compiled=!0),s&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},c._ssrRegister=l):n&&(l=o?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,l):[l]}return{exports:e,options:c}}o._withStripped=!0;var c=l({i18n:{messages:{ru:{label_active:"Обратная доставка",label_type:"Тип обратной доставки",type_money:"Денежный перевод",label_payer:"Плательщик обратной доставки",payer_recipient:"Получатель",payer_sender:"Отправитель",label_cost:"Сумма обратной доставки"},ua:{label_active:"Зворотна доставка",label_type:"Тип зворотної доставки",type_money:"Грошовий переказ",label_payer:"Платник зворотної доставки",payer_recipient:"Отримувач",payer_sender:"Відправник",label_cost:"Сума зворотної доставки"},en:{label_active:"Need backward delivery",label_type:"Backward delivery type",type_money:"Money",label_payer:"Backward delivery payer",payer_recipient:"Recipient",payer_sender:"Sender",label_cost:"Backward delivery sum"}}},computed:{...WCUkrShipping.UI.mapState("ttn",["ttn"]),active:{get:function(){return this.ttn.backward_delivery},set:function(e){this.$store.commit("ttn/toggleBackwardDelivery",e)}}}},o,[],!1,null,null,null);c.options.__file="frontend/js/ttn-form/components/common/backward-delivery.vue";const u=c.exports;var p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{"margin-bottom":"20px"}},[a("div",{staticClass:"wcus-form-group wcus-form-group--horizontal"},[a("label",{staticClass:"wcus-switcher"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.active,expression:"active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.active)?e._i(e.active,null)>-1:e.active},on:{change:function(t){var a=e.active,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=e._i(a,null);s.checked?r<0&&(e.active=a.concat([null])):r>-1&&(e.active=a.slice(0,r).concat(a.slice(r+1)))}else e.active=n}}}),e._v(" "),a("span",{staticClass:"wcus-switcher__control"})]),e._v(" "),a("div",{staticClass:"wcus-control-label"},[e._v(e._s(e.$t("label_payment_control")))])]),e._v(" "),e.active?a("div",{staticClass:"wcus-control-group"},[a("div",{staticClass:"wcus-control-group__content"},[a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"payment_control_cost"}},[e._v(e._s(e.$t("label_cost")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ttn.payment_control_cost,expression:"ttn.payment_control_cost"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"payment_control_cost",name:"payment_control_cost"},domProps:{value:e.ttn.payment_control_cost},on:{input:function(t){t.target.composing||e.$set(e.ttn,"payment_control_cost",t.target.value)}}})])])]):e._e()])};p._withStripped=!0;var _=l({i18n:{messages:{ru:{label_payment_control:"Контроль оплаты",label_cost:"Сумма"},ua:{label_payment_control:"Контроль оплати",label_cost:"Сума"},en:{label_payment_control:"Payment control",label_cost:"Payment amount"}}},computed:{...WCUkrShipping.UI.mapState("ttn",["ttn"]),active:{get:function(){return this.ttn.payment_control},set:function(e){this.$store.commit("ttn/togglePaymentControl",e)}}}},p,[],!1,null,null,null);_.options.__file="frontend/js/ttn-form/components/common/payment-control.vue";const d=_.exports;var m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wcus-control-group"},[a("div",{staticClass:"wcus-control-group__content"},[a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"weight"}},[e._v(e._s(e.$t("label_weight")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ttn.weight,expression:"ttn.weight"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"weight",name:"weight"},domProps:{value:e.ttn.weight},on:{input:function(t){t.target.composing||e.$set(e.ttn,"weight",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group wcus-form-group--horizontal"},[a("label",{staticClass:"wcus-switcher"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ttn.volume_enable,expression:"ttn.volume_enable"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.ttn.volume_enable)?e._i(e.ttn.volume_enable,null)>-1:e.ttn.volume_enable},on:{change:function(t){var a=e.ttn.volume_enable,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=e._i(a,null);s.checked?r<0&&e.$set(e.ttn,"volume_enable",a.concat([null])):r>-1&&e.$set(e.ttn,"volume_enable",a.slice(0,r).concat(a.slice(r+1)))}else e.$set(e.ttn,"volume_enable",n)}}}),e._v(" "),a("span",{staticClass:"wcus-switcher__control"})]),e._v(" "),a("div",{staticClass:"wcus-control-label"},[e._v(e._s(e.$t("label_volume_enable")))])]),e._v(" "),e.ttn.volume_enable?a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"volume_weight"}},[e._v(e._s(e.$t("label_volume_weight")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ttn.volume_weight,expression:"ttn.volume_weight"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"volume_weight",name:"volume_weight"},domProps:{value:e.ttn.volume_weight},on:{input:function(t){t.target.composing||e.$set(e.ttn,"volume_weight",t.target.value)}}})]):e._e(),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"seats_amount"}},[e._v(e._s(e.$t("label_seats_amount")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.ttn.seats_amount,expression:"ttn.seats_amount"}],staticClass:"wcus-form-control",attrs:{type:"number",name:"seats_amount",id:"seats_amount",step:"1",min:"1",value:"1"},domProps:{value:e.ttn.seats_amount},on:{input:function(t){t.target.composing||e.$set(e.ttn,"seats_amount",t.target.value)}}})])])])};m._withStripped=!0;const v={messages:{ru:{section_title:"Параметры отправления",label_payer_type:"Плательщик доставки",payer_type_sender:"Отправитель",payer_type_recipient:"Получатель",label_payment_method:"Форма оплаты",payment_method_cash:"Наличный расчет",payment_method_non_cash:"Безналичный расчет",label_date:"Дата отправления",label_cargo_type:"Тип груза",cargo_type_cargo:"Груз",cargo_type_documents:"Документы",cargo_type_wheels:"Шины-диски",cargo_type_pallet:"Паллеты",cargo_type_parcel:"Посылка",label_weight:"Вес (кг)",label_width:"Ширина (см)",label_height:"Высота (см)",label_length:"Длина (см)",global_params_title:"Общие параметры",label_cost:"Объявленная стоимость",label_description:"Описание отправления",label_barcode:"Внутренний номер отправления (не обязательно)",label_additional:"Дополнительная информация об отправке (не обязательно)",label_volume_enable:"Учет объемного веса",label_volume_weight:"Объемный вес",label_seats_amount:"Количество мест",btn_add_seat:"Добавить место",seat_title:"Место",seat_remove:"Удалить",label_no_box:"Отправление не в коробке",tooltip_no_box:"\n      Опция доступна при следующих условиях:<br>\n      Вес (объёмный и фактический): от 2 до 30 кг (включительно).<br>\n      Стороны: длина, ширина, высота <= 120 см.<br>\n      Хотя бы одна из сторон >= 40 см.\n      "},ua:{section_title:"Параметри відправлення",label_payer_type:"Платник доставки",payer_type_sender:"Відправник",payer_type_recipient:"Отримувач",label_payment_method:"Форма оплати",payment_method_cash:"Готівка",payment_method_non_cash:"Безготівка",label_date:"Дата відправлення",label_cargo_type:"Тип вантажу",cargo_type_cargo:"Вантаж",cargo_type_documents:"Документи",cargo_type_wheels:"Шини-диски",cargo_type_pallet:"Палети",cargo_type_parcel:"Посилка",label_weight:"Вага (кг)",label_width:"Ширина (см)",label_height:"Висота (см)",label_length:"Довжина (см)",global_params_title:"Загальні параметри",label_cost:"Оголошена вартість",label_description:"Опис відправлення",label_barcode:"Внутрішній номер відправлення (не обов'язково)",label_additional:"Додаткова інформація (не обов'язково)",label_volume_enable:"Облік об'ємної ваги",label_volume_weight:"Об'ємна вага",label_seats_amount:"Кількість місць",btn_add_seat:"Додати місце",seat_title:"Місце",seat_remove:"Видалити",label_no_box:"Відправлення не в коробці",tooltip_no_box:"\n      Опція доступна за таких умов:<br>\n      Вага (об'ємна і фактична): від 2 до 30 кг (включно).<br>\n      Сторони: довжина, ширина, висота <= 120 см.<br>\n      Хоча б одна із сторін >= 40 см.\n      "},en:{section_title:"Departure parameters",label_payer_type:"Payer type",payer_type_sender:"Sender",payer_type_recipient:"Recipient",label_payment_method:"Payment method",payment_method_cash:"Cash",payment_method_non_cash:"Non cash",label_date:"Departure date",label_cargo_type:"Cargo type",cargo_type_cargo:"Cargo",cargo_type_documents:"Documents",cargo_type_wheels:"Wheels",cargo_type_pallet:"Pallets",cargo_type_parcel:"Parcel",label_weight:"Weight (kg)",label_width:"Width (cm)",label_height:"Height (cm)",label_length:"Length (cm)",global_params_title:"Global params",label_cost:"Declared cost",label_description:"Description of departure",label_barcode:"Barcode (optional)",label_additional:"Additional information (optional)",label_volume_enable:"Volume weight enable",label_volume_weight:"Volume weight",label_seats_amount:"Seats amount",btn_add_seat:"Add seat",seat_title:"Seat",seat_remove:"Remove",label_no_box:"Sending not in a box",tooltip_no_box:"\n      The option is available under the following conditions:<br>\n      Weight (volume and actual): from 2 to 30 kg (inclusive).<br>\n      Sides: length, width, height <= 120 cm.<br>\n      At least one side >= 40 cm.\n      "}}};var h=l({i18n:v,computed:WCUkrShipping.UI.mapState("ttn",["ttn"])},m,[],!1,null,null,null);h.options.__file="frontend/js/ttn-form/components/products/product-global-params.vue";const g=h.exports;var f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wcus-control-group"},[a("div",{staticClass:"wcus-control-group__content"},[e._l(e.seats,(function(e,t){return a("product-seat",{key:e.id,attrs:{index:t,seat:e}})})),e._v(" "),a("div",{staticClass:"wcus-ttn-form__seats-add"},[a("button",{staticClass:"wcus-btn wcus-btn--default wcus-btn--sm",on:{click:function(t){return t.preventDefault(),e.addSeat.apply(null,arguments)}}},[e._v(e._s(e.$t("btn_add_seat")))])])],2)])};f._withStripped=!0;var y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wcus-ttn-seat"},[a("div",{staticClass:"wcus-ttn-seat__title"},[e._v("\n    "+e._s(e.$t("seat_title"))+" "+e._s(e.index+1)+"\n    "),a("span",{staticClass:"wcus-ttn-seat__remove",on:{click:function(t){return e.removeSeat(e.seat.id)}}},[e._v(e._s(e.$t("seat_remove")))])]),e._v(" "),a("div",{staticClass:"wcus-ttn-seat__inner"},[a("div",{staticClass:"wcus-ttn-seat__param"},[a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"seat_"+e.index+"_weight"}},[e._v(e._s(e.$t("label_weight")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.seat.weight,expression:"seat.weight"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"seat_"+e.index+"_weight"},domProps:{value:e.seat.weight},on:{input:[function(t){t.target.composing||e.$set(e.seat,"weight",t.target.value)},e.checkNoBoxAvailable]}})])]),e._v(" "),a("div",{staticClass:"wcus-ttn-seat__param"},[a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"seat_"+e.index+"_width"}},[e._v(e._s(e.$t("label_width")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.seat.width,expression:"seat.width"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"seat_"+e.index+"_width"},domProps:{value:e.seat.width},on:{input:[function(t){t.target.composing||e.$set(e.seat,"width",t.target.value)},e.checkNoBoxAvailable]}})])]),e._v(" "),a("div",{staticClass:"wcus-ttn-seat__param"},[a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"seat_"+e.index+"_height"}},[e._v(e._s(e.$t("label_height")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.seat.height,expression:"seat.height"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"seat_"+e.index+"_height"},domProps:{value:e.seat.height},on:{input:[function(t){t.target.composing||e.$set(e.seat,"height",t.target.value)},e.checkNoBoxAvailable]}})])]),e._v(" "),a("div",{staticClass:"wcus-ttn-seat__param"},[a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"seat_"+e.index+"_length"}},[e._v(e._s(e.$t("label_length")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.seat.length,expression:"seat.length"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"seat_"+e.index+"_length"},domProps:{value:e.seat.length},on:{input:[function(t){t.target.composing||e.$set(e.seat,"length",t.target.value)},e.checkNoBoxAvailable]}})])])]),e._v(" "),a("div",{staticClass:"wcus-ttn-seat__box"},[a("div",{staticClass:"wcus-form-group wcus-form-group--horizontal"},[a("label",{staticClass:"wcus-switcher"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.box,expression:"box"}],attrs:{type:"checkbox",disabled:e.noBoxDisabled},domProps:{checked:Array.isArray(e.box)?e._i(e.box,null)>-1:e.box},on:{change:function(t){var a=e.box,s=t.target,n=!!s.checked;if(Array.isArray(a)){var r=e._i(a,null);s.checked?r<0&&(e.box=a.concat([null])):r>-1&&(e.box=a.slice(0,r).concat(a.slice(r+1)))}else e.box=n}}}),e._v(" "),a("span",{staticClass:"wcus-switcher__control"})]),e._v(" "),a("div",{staticClass:"wcus-control-label"},[e._v(e._s(e.$t("label_no_box")))])]),e._v(" "),a("div",{staticClass:"wcus-form-group__tooltip",domProps:{innerHTML:e._s(e.$t("tooltip_no_box"))}})])])};y._withStripped=!0;var b=l({props:["seat","index"],i18n:v,data:function(){return{noBoxDisabled:!0}},computed:{box:{get:function(){return this.seat.box},set:function(e){this.seat.box=e?1:0}}},created:function(){this.checkNoBoxAvailable()},methods:{...WCUkrShipping.UI.mapMutations("ttn",["removeSeat"]),checkNoBoxAvailable:function(){if(this.seat.weight<2||this.seat.weight>30)return void this.disableNoBox();const e=this.seat.width*this.seat.height*this.seat.length/4e3;e<2||e>30||this.seat.width<40&&this.seat.height<40&&this.seat.length<40?this.disableNoBox():this.noBoxDisabled=!1},disableNoBox:function(){this.noBoxDisabled=!0,this.seat.box=0}}},y,[],!1,null,null,null);b.options.__file="frontend/js/ttn-form/components/products/product-seat.vue";var w=l({components:{"product-seat":b.exports},i18n:v,computed:{...WCUkrShipping.UI.mapState("ttn",["ttn"]),seats:function(){return this.ttn.seats}},methods:{...WCUkrShipping.UI.mapMutations("ttn",["addSeat"])}},f,[],!1,null,null,null);w.options.__file="frontend/js/ttn-form/components/products/product-seat-params.vue";var C=l({components:{"backward-delivery":u,"payment-control":d,"product-globals":g,"product-seats":w.exports},i18n:v,computed:{ttn:function(){return this.$store.state.ttn.ttn},globalParams:{get:function(){return this.ttn.global_params},set:function(e){this.ttn.global_params=e?1:0}}}},i,[],!1,null,null,null);C.options.__file="frontend/js/ttn-form/components/common-section.vue";const x=C.exports;var $=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wc-ukr-shipping-ttn-form__col-4"},[a("div",{staticClass:"wc-ukr-shipping-modal-group"},[a("div",{staticClass:"wc-ukr-shipping-modal-group__heading"},[e._v(e._s(e.$t("section_title")))]),e._v(" "),a("div",{staticClass:"wc-ukr-shipping-modal-group__content"},[e.sender.exception?a("div",{domProps:{innerHTML:e._s(e.sender.exception)}}):a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sender.ref,expression:"sender.ref"}],attrs:{type:"hidden",name:"sender_ref"},domProps:{value:e.sender.ref},on:{input:function(t){t.target.composing||e.$set(e.sender,"ref",t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.sender.contact_ref,expression:"sender.contact_ref"}],attrs:{type:"hidden",name:"sender_contact_ref"},domProps:{value:e.sender.contact_ref},on:{input:function(t){t.target.composing||e.$set(e.sender,"contact_ref",t.target.value)}}}),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"sender_lastname"}},[e._v(e._s(e.$t("label_lastname")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.sender.lastname,expression:"sender.lastname"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"sender_lastname",disabled:""},domProps:{value:e.sender.lastname},on:{input:function(t){t.target.composing||e.$set(e.sender,"lastname",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"sender_firstname"}},[e._v(e._s(e.$t("label_firstname")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.sender.firstname,expression:"sender.firstname"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"sender_firstname",disabled:""},domProps:{value:e.sender.firstname},on:{input:function(t){t.target.composing||e.$set(e.sender,"firstname",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"sender_middlename"}},[e._v(e._s(e.$t("label_middlename")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.sender.middlename,expression:"sender.middlename"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"sender_middlename",disabled:""},domProps:{value:e.sender.middlename},on:{input:function(t){t.target.composing||e.$set(e.sender,"middlename",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"sender_phone"}},[e._v(e._s(e.$t("label_phone")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.sender.phone,expression:"sender.phone"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"sender_phone",disabled:""},domProps:{value:e.sender.phone},on:{input:function(t){t.target.composing||e.$set(e.sender,"phone",t.target.value)}}})])]),e._v(" "),a("counterparty-location",{attrs:{type:"sender"},on:{changeWarehouse:e.onWarehouseUpdated}})],1)])])};$._withStripped=!0;var k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"wcus-form-group"},[a("div",{staticClass:"wcus-ttn-form__service-type"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.counterparty.service_type,expression:"counterparty.service_type"}],attrs:{type:"radio",name:e.type+"_service_type",value:"Warehouse"},domProps:{checked:e._q(e.counterparty.service_type,"Warehouse")},on:{change:function(t){return e.$set(e.counterparty,"service_type","Warehouse")}}}),e._v("\n        "+e._s(e.$t("label_service_warehouse"))+"\n      ")]),e._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.counterparty.service_type,expression:"counterparty.service_type"}],attrs:{type:"radio",name:e.type+"_service_type",value:"Doors"},domProps:{checked:e._q(e.counterparty.service_type,"Doors")},on:{change:function(t){return e.$set(e.counterparty,"service_type","Doors")}}}),e._v("\n        "+e._s(e.$t("label_service_doors"))+"\n      ")])])]),e._v(" "),e.fromWarehouse?a("div",{class:{"wcus-state-loading":e.locked}},[a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:e.type+"_city"}},[e._v(e._s(e.$t("label_city")))]),e._v(" "),a("zen-ui-select",{attrs:{id:e.type+"_area",name:e.type+"_area",options:e.defaultCities,"default-option":e.counterparty.default_city,"http-transport":e.cityTransport,messages:e.cityMessages,"search-box":""},on:{change:e.changeCity}})],1),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:e.type+"_warehouse"}},[e._v(e._s(e.$t("label_warehouse")))]),e._v(" "),a("zen-ui-select",{ref:"warehouses",attrs:{id:e.type+"_warehouse",name:e.type+"_warehouse","default-option":e.counterparty.default_warehouse,"http-transport":e.adminWarehouseTransport,messages:e.warehouseMessages,minSearchLength:"1","search-box":"",paging:""},on:{change:e.changeWarehouse}})],1)]):a("div",[a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:e.type+"_settlement"}},[e._v(e._s(e.$t("label_settlement")))]),e._v(" "),a("zen-ui-select",{attrs:{id:e.type+"_settlement",name:e.type+"_settlement","default-option":e.counterparty.settlement,"http-transport":e.settlementTransport,"search-box":"","disable-auto-fetch":""},on:{change:e.changeSettlement}})],1),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:e.type+"_street"}},[e._v(e._s(e.$t("label_street")))]),e._v(" "),a("zen-ui-select",{ref:"streets",attrs:{id:e.type+"_street",name:e.type+"_street","default-option":e.counterparty.street,"http-transport":e.streetTransport,"search-box":"","disable-auto-fetch":""},on:{change:e.changeStreet}})],1),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:e.type+"_house"}},[e._v(e._s(e.$t("label_house")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.counterparty.house,expression:"counterparty.house"}],staticClass:"wcus-form-control",attrs:{type:"text",id:e.type+"_house",name:e.type+"_house"},domProps:{value:e.counterparty.house},on:{input:function(t){t.target.composing||e.$set(e.counterparty,"house",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:e.type+"_flat"}},[e._v(e._s(e.$t("label_flat")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.counterparty.flat,expression:"counterparty.flat"}],staticClass:"wcus-form-control",attrs:{type:"text",id:e.type+"_flat",name:e.type+"_flat"},domProps:{value:e.counterparty.flat},on:{input:function(t){t.target.composing||e.$set(e.counterparty,"flat",t.target.value)}}})])])])};function z(){return new class{constructor(e){window.jQuery||console.error("jQuery not found."),this.config=e,this.xhr=null,this.config.globals||(this.config.globals={})}async post(e,t){const a=window.jQuery,s=this;return new Promise((function(n,r){s.xhr=a.ajax({method:"POST",url:s.config.url,data:Object.assign({action:e},s.config.globals,t),dataType:"json",success:function(e){s.xhr=null,n(e)},error:function(e,t,a){s.xhr=null,r({jqXHR:e,textStatus:t,errorThrown:a})}})}))}async postCors(e,t){const a=window.jQuery,s=this;return new Promise((function(n,r){s.xhr=a.ajax({method:"POST",url:e,data:JSON.stringify(t),dataType:"json",contentType:"applicat3ion/json",timeout:3e3,success:function(e){s.xhr=null,n(e)},error:function(e,t,a){s.xhr=null,r({jqXHR:e,textStatus:t,errorThrown:a})}})}))}abort(){this.xhr&&(this.xhr.abort(),this.xhr=null)}}({url:wc_ukr_shipping_globals.ajaxUrl,globals:{_token:wc_ukr_shipping_globals.nonce,lang:wc_ukr_shipping_globals.lang}})}k._withStripped=!0;const P=new z,S=class{async fetch(e){return await P.post("wcus_search_cities",{query:e.query.trim()})}abort(){P.abort()}},N=new z,T=class{constructor(e){this.data=e}async fetch(e){return await N.post("wcus_search_warehouses",{city_ref:this.data.city_ref(),query:e.query.trim(),page:e.page})}abort(){N.abort()}},O=new z,j=class{constructor(e){this.data=e}async fetch(e){return await O.post("wcus_admin_search_warehouses",{city_ref:this.data.city_ref,query:e.query.trim(),page:e.page})}abort(){O.abort()}},A=new z,D=class{async fetch(e){return await A.post("wcus_search_settlements",{query:e.query.trim()})}abort(){A.abort()}},q=new z,E=class{constructor(e){this.data=e}async fetch(e){return await q.post("wcus_search_streets",{query:e.query.trim(),settlement_ref:this.data.settlement_ref()})}abort(){q.abort()}};var W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.classes},[a("div",{staticStyle:{width:"0",height:"0",overflow:"hidden"}},[a("input",{attrs:{type:"hidden",name:e.name,id:e.id},domProps:{value:e.activeOption.value}})]),e._v(" "),a("div",{staticClass:"zen-ui-select__value",class:{disabled:e.opened},on:{click:e.toggle}},[a("span",{staticClass:"zen-ui-select__value-text"},[e._v(e._s(e.text))]),e._v(" "),a("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 129 129"}},[a("path",{attrs:{d:"m121.3,34.6c-1.6-1.6-4.2-1.6-5.8,0l-51, 51.1-51.1-51.1c-1.6-1.6-4.2-1.6-5.8,0-1.6, 1.6-1.6,4.2 0,5.8l53.9,53.9c0.8,0.8 1.8, 1.2 2.9,1.2 1,0 2.1-0.4 2.9-1.2l53.9-53.9c1.7-1.6 1.7-4.2 0.1-5.8z"}})])]),e._v(" "),a("div",{staticClass:"zen-ui-select__dropdown",class:{active:e.opened}},[e.searchBox?a("div",{staticClass:"zen-ui-select__search"},[a("input",{staticClass:"zen-ui-select__search-input",attrs:{type:"text",placeholder:e.strings.search},domProps:{value:e.query},on:{keydown:e.validateKeyInput,input:e.searchResults}})]):e._e(),e._v(" "),a("div",{staticClass:"zen-ui-select__options"},[e.items.length?[e._l(e.items,(function(t){return a("div",{key:t.value,staticClass:"zen-ui-select__option",class:{"zen-ui-select__option--current":e.activeOption.value===t.value},on:{click:function(a){return a.stopPropagation(),e.selectOption(t)}}},[e._v("\n          "+e._s(t.name)+"\n        ")])})),e._v(" "),e.loading?a("div",{staticClass:"zen-ui-select__option zen-ui-select__option--disabled zen-ui-select__option--loading"},[e._v(e._s(e.strings.loading))]):[e.paging&&e.more?a("div",{staticClass:"zen-ui-select__option zen-ui-select__option--more",on:{click:e.loadMore}},[e._v("\n            "+e._s(e.strings.more)+"\n          ")]):e._e()]]:[e.loading?a("div",{staticClass:"zen-ui-select__option zen-ui-select__option--disabled zen-ui-select__option--loading"},[e._v(e._s(e.strings.loading))]):[e.firstLoaded?a("div",{staticClass:"zen-ui-select__option zen-ui-select__option--disabled"},[e._v(e._s(e.strings.notFound))]):[e.disableAutoFetch?a("div",{staticClass:"zen-ui-select__option zen-ui-select__option--disabled"},[e._v(e._s(e.strings.enterMoreChars))]):e._e()]]]],2)])])};W._withStripped=!0;let I=0;const B="default",L="search";let U=null;var R=l({name:"zen-ui-select",i18n:{messages:{ru:{"Select value":"Выберите значение","Loading...":"Загрузка...","Enter value for search":"Введите значение для поиска","Load more...":"Загрузить еще...","Nothing found":"Ничего не найдено","Enter more chars":"Введите больше символов"},ua:{"Select value":"Оберіть значення","Loading...":"Завантаження...","Enter value for search":"Введіть значення для пошуку","Load more...":"Завантажити ще...","Nothing found":"Нічого не знайдено","Enter more chars":"Введіть більше символів"}}},props:{id:String,name:String,value:String,options:{type:Array,default:[]},defaultOption:Object,messages:Object,minSearchLength:{type:Number,default:2},customClass:{type:String,default:""},searchBox:Boolean,paging:Boolean,disableAutoFetch:Boolean,httpTransport:Object,fetchDelay:{type:Number,default:300}},data(){return{controlId:++I,query:"",defaultPool:this.options,searchPool:[],loading:!1,opened:!1,dataContext:B,currentPage:1,more:!0,firstLoaded:!1,activeOption:{name:"",value:""},strings:{placeholder:"",loading:"",search:"",more:"",notFound:"",enterMoreChars:""}}},computed:{items(){return L===this.dataContext?this.searchPool:this.defaultPool},classes(){return["zen-ui-select","zen-ui-select-"+this.controlId,this.customClass]},text(){return this.activeOption.name||this.strings.placeholder}},watch:{defaultOption:{handler:function(e){this.activeOption=Object.assign({},e)},deep:!0},value(e){for(let t=0;t<this.items.length;t++)if(this.items[t].value===e){this.activeOption=Object.assign({},this.items[t]);break}}},methods:{async searchResults(e){this.query=e.target.value,null!==U&&(clearTimeout(U),U=null),this.abortRequest(),this.query.length>=this.minSearchLength?this._startSearch():(this.setDefaultContext(),this.clearPool(this.searchPool),this.loading=!1)},selectOption(e){this.activeOption=Object.assign({},e),this.close(),this.$emit("change",e)},async open(){this.opened=!0,this.disableAutoFetch||this.firstLoaded||this.items.length||(this.defaultPool=await this.fetchData());let e=new CustomEvent("zen.select.open",{detail:{controlId:this.controlId}});document.body.dispatchEvent(e)},validateKeyInput(e){[13].includes(e.keyCode)&&e.preventDefault()},close(){this.opened=!1},toggle(){this.opened?this.close():this.open()},async fetchData(){if(!this.httpTransport||"function"!=typeof this.httpTransport.fetch)return[];this.abortRequest(),this.loading=!0;try{const e=await this.httpTransport.fetch({query:this.query,page:this.paging?this.currentPage:0});return"abort"!==e.status&&(this.loading=!1),e.success?(this.firstLoaded=!0,this.paging&&"undefined"!==e.data.more&&(this.more=e.data.more),this.paging?e.data.items:e.data):[]}catch(e){return[]}},async loadMore(){this.currentPage++,(await this.fetchData()).forEach((e=>{this.appendOption(e)}))},abortRequest(){this.httpTransport&&"function"==typeof this.httpTransport.abort&&this.httpTransport.abort()},getOptionByValue(e){for(let t=0;t<this.defaultPool.length;t++)if(this.defaultPool[t].value===e)return this.defaultPool[t];return null},clear(){this.abortRequest(),this.clearPool(this.defaultPool),this.clearPool(this.searchPool),this.loading=!1,this.currentPage=1,this.firstLoaded=!1,this.query="",this.activeOption.name="",this.activeOption.value=""},appendOption(e){L===this.dataContext?this.searchPool.push(e):this.defaultPool.push(e)},setSearchContext(){this.dataContext=L},setDefaultContext(){this.dataContext=B},clearPool(e){e.splice(0,e.length)},async _startSearch(){U=null,this.setSearchContext(),this.clearPool(this.searchPool),this.currentPage=1,this.fetchDelay>0?(this.loading=!0,U=setTimeout((async()=>{this.searchPool=await this.fetchData()}),this.fetchDelay)):this.searchPool=await this.fetchData()},getDefaultStrings(){return{placeholder:this.$t("Select value"),loading:this.$t("Loading..."),search:this.$t("Enter value for search"),more:this.$t("Load more..."),notFound:this.$t("Nothing found"),enterMoreChars:this.$t("Enter more chars")}}},created(){if(this.defaultOption)this.activeOption=this.defaultOption;else if(this.value)for(let e=0;e<this.items.length;e++)if(this.items[e].value===this.value){this.activeOption=Object.assign({},this.items[e]);break}this.strings=Object.assign(this.getDefaultStrings(),this.messages||{}),this.items.length&&(this.firstLoaded=!0)},mounted(){const e=this;document.body.addEventListener("click",(function(t){t.target.closest(".zen-ui-select-"+e.controlId)||e.close()})),document.body.addEventListener("zen.select.open",(function(t){t.detail.controlId!==e.controlId&&e.close()}))}},W,[],!1,null,null,null);R.options.__file="frontend/vendor/zen/ui/select.vue";var M=l({components:{ZenUiSelect:R.exports},i18n:{messages:{ru:{label_service_warehouse:"Отделение",label_service_doors:"Адрес",label_area:"Область",label_city:"Город",label_warehouse:"Отделение",label_settlement:"Населенный пункт",label_street:"Улица",label_house:"Номер дома",label_flat:"Номер квартиры",placeholder_search:"Введите значение для поиска",placeholder_api_search:"Начните вводить слово или часть слова",zen_city_placeholder:"Выберите город",zen_warehouse_placeholder:"Выберите отделение",zen_loading:"Загрузка...",zen_search:"Введите значение для поиска",zen_more:"Загрузить еще...",zen_not_found:"Ничего не найдено"},ua:{label_service_warehouse:"Відділення",label_service_doors:"Адреса",label_area:"Область",label_city:"Місто",label_warehouse:"Відділення",label_settlement:"Населений пункт",label_street:"Вулиця",label_house:"Номер будинку",label_flat:"Номер квартири",placeholder_search:"Введіть значення для пошуку",placeholder_api_search:"Почніть вводити слово або частину слова",zen_city_placeholder:"Оберіть місто",zen_warehouse_placeholder:"Оберіть відділення",zen_loading:"Завантаження...",zen_search:"Введіть значення для пошуку",zen_more:"Завантажити ще...",zen_not_found:"Нічого не знайдено"},en:{label_service_warehouse:"Warehouse",label_service_doors:"Doors",label_area:"Area",label_city:"City",label_warehouse:"Warehouse",label_settlement:"Settlement",label_street:"Street",label_house:"House",label_flat:"Flat",placeholder_search:"Enter a value to search",placeholder_api_search:"Start typing a word or part of a word",zen_city_placeholder:"Select city",zen_warehouse_placeholder:"Select warehouse",zen_loading:"Loading...",zen_search:"Enter value to search",zen_more:"Load more...",zen_not_found:"Not found"}}},props:["type"],data(){return{cityTransport:new S,warehouseTransport:new T({city_ref:()=>this.$store.state.ttn[this.type].city_ref}),adminWarehouseTransport:new j({city_ref:()=>this.$store.state.ttn[this.type].city_ref}),settlementTransport:new D,streetTransport:new E({settlement_ref:()=>this.$store.state.ttn[this.type].settlement.value})}},computed:{counterparty:function(){return this.$store.state.ttn[this.type]},defaultCities:function(){return window.wcus_ttn_form_state.helpers.default_cities},locked:function(){return this.counterparty.locked},fromWarehouse:function(){return"Warehouse"===this.counterparty.service_type},cityMessages:function(){return{placeholder:this.$t("zen_city_placeholder"),loading:this.$t("zen_loading"),search:this.$t("zen_search"),more:this.$t("zen_more"),notFound:this.$t("zen_not_found")}},warehouseMessages:function(){return{placeholder:this.$t("zen_warehouse_placeholder"),loading:this.$t("zen_loading"),search:this.$t("zen_search"),more:this.$t("zen_more"),notFound:this.$t("zen_not_found")}}},methods:{changeCity:function(e){this.$store.state.ttn[this.type].city_ref=e.value,this.$store.state.ttn[this.type].warehouse_ref="",this.$store.state.ttn[this.type].default_city=Object.assign({},e),this.$refs.warehouses.clear()},changeWarehouse:function(e){this.$store.state.ttn[this.type].warehouse_ref=e.value,this.$store.state.ttn[this.type].default_warehouse=Object.assign({},e),this.$emit("changeWarehouse",e)},changeSettlement(e){this.$store.state.ttn[this.type].settlement=Object.assign({},e),this.$refs.streets.clear(),this.$store.state.ttn[this.type].house="",this.$store.state.ttn[this.type].flat=""},changeStreet(e){this.$store.state.ttn[this.type].street=Object.assign({},e)},dispatch:function(e,t){t?this.$store.dispatch("ttn/"+this.type+"/"+e,t):this.$store.dispatch("ttn/"+this.type+"/"+e)},commit:function(e,t){t?this.$store.commit("ttn/"+this.type+"/"+e,t):this.$store.commit("ttn/"+this.type+"/"+e)}}},k,[],!1,null,null,null);M.options.__file="frontend/js/ttn-form/components/counterparty-location.vue";const H=M.exports;var F=l({components:{"counterparty-location":H},i18n:{messages:{ru:{section_title:"Данные отправителя",label_lastname:"Фамилия",label_firstname:"Имя",label_middlename:"Отчество",label_phone:"Телефон"},ua:{section_title:"Дані відправника",label_lastname:"Прізвище",label_firstname:"Ім'я",label_middlename:"По-батькові",label_phone:"Телефон"},en:{section_title:"Sender data",label_lastname:"Lastname",label_firstname:"Firstname",label_middlename:"Middlename",label_phone:"Phone"}}},computed:{ttn:function(){return this.$store.state.ttn.ttn},sender:function(){return this.$store.state.ttn.sender}},methods:{onWarehouseUpdated:function(e){-1===e.name.indexOf("Поштомат")&&-1===e.name.indexOf("Почтомат")||this.$store.commit("ttn/activateSeatParams")}}},$,[],!1,null,null,null);F.options.__file="frontend/js/ttn-form/components/sender-section.vue";const Q=F.exports;var K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wc-ukr-shipping-ttn-form__col-4"},[a("div",{staticClass:"wc-ukr-shipping-modal-group"},[a("div",{staticClass:"wc-ukr-shipping-modal-group__heading"},[e._v(e._s(e.$t("section_title")))]),e._v(" "),a("div",{staticClass:"wc-ukr-shipping-modal-group__content"},[a("div",{staticClass:"wcus-form-group wcus-ttn-form__service-type"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.type,expression:"recipient.type"}],attrs:{type:"radio",name:"recipient_type",value:"private_person"},domProps:{checked:e._q(e.recipient.type,"private_person")},on:{change:function(t){return e.$set(e.recipient,"type","private_person")}}}),e._v("\n          "+e._s(e.$t("label_private_person"))+"\n        ")]),e._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.type,expression:"recipient.type"}],attrs:{type:"radio",name:"recipient_type",value:"organization"},domProps:{checked:e._q(e.recipient.type,"organization")},on:{change:function(t){return e.$set(e.recipient,"type","organization")}}}),e._v("\n          "+e._s(e.$t("label_organization"))+"\n        ")])]),e._v(" "),e.organization?a("keep-alive",[a("organization-info")],1):a("keep-alive",[a("private-person")],1),e._v(" "),e.recipient.custom_address?a("div",{staticClass:"wcus-control-group"},[a("div",{staticClass:"wcus-control-group__content"},[a("div",{staticStyle:{"font-weight":"600"}},[e._v(e._s(e.$t("info_custom_address")))]),e._v(" "),a("div",{domProps:{innerHTML:e._s(e.recipient.custom_address)}})])]):e._e(),e._v(" "),a("counterparty-location",{attrs:{type:"recipient"},on:{changeWarehouse:e.updateWarehouse}})],1)])])};K._withStripped=!0;const V={props:["name","id","value"],data:function(){return{items:[],query:"",disabled:!1,timerId:null}},methods:{search:function(){if(this.disabled)return;let e=this;e.timerId&&clearTimeout(e.timerId),e.timerId=setTimeout((function(){e.items=[],e.disabled=!0,Object.assign(e.params||{},{query:e.query}),e.query.length>=2&&e.$emit("search",e.query)}),500)},selectItem:function(e){for(let t in e)e.hasOwnProperty(t)&&this.controlData.hasOwnProperty(t)&&(this.controlData[t]=e[t]);this.items=[],this.query=this.getItemName(e)},getItemName:function(e){return this.itemKey&&e.hasOwnProperty(this.itemKey)?e[this.itemKey]:e.name}},template:'\n    <div class="wcus-search-control">\n      <input v-for="(val, key) in value" \n        type="hidden" \n        :id="name + \'_\' + key" \n        :name="name + \'_\' + key"\n        v-model="value[key]" />\n      <div class="wcus-search-control__query-wrap">\n        <input type="text" :disabled="disabled" @input="search" class="wcus-form-control wcus-search-control__query" v-model="query" autocomplete="off">\n        <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.999 511.999" style="enable-background:new 0 0 511.999 511.999;" xml:space="preserve"><g><g><path d="M508.874,478.708L360.142,329.976c28.21-34.827,45.191-79.103,45.191-127.309c0-111.75-90.917-202.667-202.667-202.667\n          S0,90.917,0,202.667s90.917,202.667,202.667,202.667c48.206,0,92.482-16.982,127.309-45.191l148.732,148.732\n          c4.167,4.165,10.919,4.165,15.086,0l15.081-15.082C513.04,489.627,513.04,482.873,508.874,478.708z M202.667,362.667\n          c-88.229,0-160-71.771-160-160s71.771-160,160-160s160,71.771,160,160S290.896,362.667,202.667,362.667z"></path></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>\n        </svg>\n      </div>\n      <div class="wcus-search-control__results" :class="{ \'active\': items.length }">\n        <div v-for="item in items" class="wcus-search-control__result" :class="{ \'disabled\': item.disable }" @click.stop="selectItem(item)">{{ getItemName(item) }}</div>\n      </div>\n    </div>\n  '};var X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"recipient_lastname"}},[e._v(e._s(e.$t("label_lastname")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.lastname,expression:"recipient.lastname"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"recipient_lastname",name:"recipient_lastname"},domProps:{value:e.recipient.lastname},on:{input:function(t){t.target.composing||e.$set(e.recipient,"lastname",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"recipient_firstname"}},[e._v(e._s(e.$t("label_firstname")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.firstname,expression:"recipient.firstname"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"recipient_firstname",name:"recipient_firstname"},domProps:{value:e.recipient.firstname},on:{input:function(t){t.target.composing||e.$set(e.recipient,"firstname",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"recipient_middlename"}},[e._v(e._s(e.$t("label_middlename")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.middlename,expression:"recipient.middlename"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"recipient_middlename",name:"recipient_middlename"},domProps:{value:e.recipient.middlename},on:{input:function(t){t.target.composing||e.$set(e.recipient,"middlename",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"recipient_email"}},[e._v(e._s(e.$t("label_email")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.email,expression:"recipient.email"}],staticClass:"wcus-form-control",attrs:{id:"recipient_email",name:"recipient_email"},domProps:{value:e.recipient.email},on:{input:function(t){t.target.composing||e.$set(e.recipient,"email",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"recipient_phone"}},[e._v(e._s(e.$t("label_phone")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.phone,expression:"recipient.phone"}],staticClass:"wcus-form-control",attrs:{type:"tel",id:"recipient_phone",name:"recipient_phone"},domProps:{value:e.recipient.phone},on:{input:function(t){t.target.composing||e.$set(e.recipient,"phone",t.target.value)}}})])])};X._withStripped=!0;const Y={messages:{ru:{section_title:"Данные получателя",label_private_person:"Физическое лицо",label_organization:"Организация",info_custom_address:"Данный заказ использует нестандартный адрес доставки:",label_lastname:"Фамилия",label_firstname:"Имя",label_middlename:"Отчество",label_email:"Email",label_phone:"Телефон",organization_title:"Данные организации",label_edrpou:"Код ЄДРПОУ/РНОКПП",label_company_name:"Название компании",label_ownership:"Форма собственности",placeholder_edrpou:"Введите значение для поиска"},ua:{section_title:"Дані отримувача",label_private_person:"Фізична особа",label_organization:"Організація",info_custom_address:"Це замовлення використовує нестандартну адресу доставки:",label_lastname:"Прізвище",label_firstname:"Ім'я",label_middlename:"По-батькові",label_email:"Email",label_phone:"Телефон",organization_title:"Дані організації",label_edrpou:"Код ЄДРПОУ/РНОКПП",label_company_name:"Назва компанії",label_ownership:"Форма власності",placeholder_edrpou:"Введіть значення для пошуку"},en:{section_title:"Recipient data",label_private_person:"Private person",label_organization:"Organization",info_custom_address:"This order uses a non-standard shipping address:",label_lastname:"Lastname",label_firstname:"Firstname",label_middlename:"Middlename",label_email:"Email",label_phone:"Phone",organization_title:"Organization data",label_edrpou:"ЄДРПОУ/РНОКПП code",label_company_name:"Company name",label_ownership:"Company ownership",placeholder_edrpou:"Enter a value to search"}}};var G=l({i18n:Y,computed:{ttn:function(){return this.$store.state.ttn.ttn},recipient:function(){return this.$store.state.ttn.recipient}}},X,[],!1,null,null,null);G.options.__file="frontend/js/ttn-form/components/private-person.vue";const J=G.exports;var Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"wcus-control-group",class:e.sectionClass},[a("div",{staticClass:"wcus-control-group__title"},[e._v(e._s(e.$t("organization_title")))]),e._v(" "),a("div",{staticClass:"wcus-control-group__content"},[a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"recipient_edrpou"}},[e._v(e._s(e.$t("label_edrpou")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.edrpou,expression:"recipient.edrpou"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"recipient_edrpou",name:"recipient_edrpou",placeholder:e.$t("placeholder_edrpou"),disabled:e.locked},domProps:{value:e.recipient.edrpou},on:{input:[function(t){t.target.composing||e.$set(e.recipient,"edrpou",t.target.value)},e.searchOrganization]}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"recipient_company_name"}},[e._v(e._s(e.$t("label_company_name")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.organization_name,expression:"recipient.organization_name"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"recipient_company_name",name:"recipient_company_name",disabled:""},domProps:{value:e.recipient.organization_name},on:{input:function(t){t.target.composing||e.$set(e.recipient,"organization_name",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"recipient_company_ownership"}},[e._v(e._s(e.$t("label_ownership")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.organization_ownership,expression:"recipient.organization_ownership"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"recipient_company_ownership",name:"recipient_company_ownership",disabled:""},domProps:{value:e.recipient.organization_ownership},on:{input:function(t){t.target.composing||e.$set(e.recipient,"organization_ownership",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"recipient_lastname"}},[e._v(e._s(e.$t("label_lastname")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.lastname,expression:"recipient.lastname"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"recipient_lastname",name:"recipient_lastname",disabled:!e.organizationRef},domProps:{value:e.recipient.lastname},on:{input:function(t){t.target.composing||e.$set(e.recipient,"lastname",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"recipient_firstname"}},[e._v(e._s(e.$t("label_firstname")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.firstname,expression:"recipient.firstname"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"recipient_firstname",name:"recipient_firstname",disabled:!e.organizationRef},domProps:{value:e.recipient.firstname},on:{input:function(t){t.target.composing||e.$set(e.recipient,"firstname",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"recipient_middlename"}},[e._v(e._s(e.$t("label_middlename")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.middlename,expression:"recipient.middlename"}],staticClass:"wcus-form-control",attrs:{type:"text",id:"recipient_middlename",name:"recipient_middlename",disabled:!e.organizationRef},domProps:{value:e.recipient.middlename},on:{input:function(t){t.target.composing||e.$set(e.recipient,"middlename",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"wcus-form-group"},[a("label",{attrs:{for:"recipient_phone"}},[e._v(e._s(e.$t("label_phone")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.recipient.phone,expression:"recipient.phone"}],staticClass:"wcus-form-control",attrs:{type:"tel",id:"recipient_phone",name:"recipient_phone",disabled:!e.organizationRef},domProps:{value:e.recipient.phone},on:{input:function(t){t.target.composing||e.$set(e.recipient,"phone",t.target.value)}}})])])};Z._withStripped=!0;var ee=l({i18n:Y,data:function(){return{locked:!1}},computed:{ttn:function(){return this.$store.state.ttn.ttn},recipient:function(){return this.$store.state.ttn.recipient},organizationRef:function(){return this.recipient.organization_ref},sectionClass:function(){return this.locked?"wcus-state-loading":""}},methods:{...WCUkrShipping.UI.mapMutations("ttn",["clearOrganizationInfo"]),searchOrganization:function(){let e=this;e.recipient.edrpou.length<8?e.clearOrganizationInfo():(e.locked=!0,this.$store.dispatch("ttn/searchOrganization").then((function(t){e.locked=!1,t.ref&&(e.recipient.edrpou=t.edrpou,e.recipient.organization_ref=t.ref,e.recipient.organization_ownership=t.ownership,e.recipient.organization_ownership_form=t.ownership_form,e.recipient.organization_name=t.name)})))}}},Z,[],!1,null,null,null);ee.options.__file="frontend/js/ttn-form/components/organization-info.vue";var te=l({components:{"search-control":V,"counterparty-location":H,"private-person":J,"organization-info":ee.exports},i18n:Y,computed:{ttn:function(){return this.$store.state.ttn.ttn},recipient:function(){return this.$store.state.ttn.recipient},organization:function(){return"organization"===this.recipient.type}},methods:{updateWarehouse:function(e){-1===e.name.indexOf("Поштомат")&&-1===e.name.indexOf("Почтомат")||this.$store.commit("ttn/activateSeatParams")}}},K,[],!1,null,null,null);te.options.__file="frontend/js/ttn-form/components/recipient-section.vue";const ae=te.exports;var se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[e._v(e._s(e.$t("TTN successful created"))+" - "),a("strong",[e._v(e._s(e.ttnNumber))]),e._v(" ("),a("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.printTTN.apply(null,arguments)}}},[e._v(e._s(e.$t("Print")))]),e._v(")")]),e._v(" "),a("div",[e._v("\n    "+e._s(e.$t("You can also access your ttn by going to"))+"\n    "),a("a",{attrs:{href:"/wp-admin/admin.php?page=wc_ukr_shipping_ttn_list"}},[e._v(e._s(e.$t("TTN list")))])]),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("a",{attrs:{href:e.response.order_url}},[e._v(e._s(e.$t("Back to order")))])])])};se._withStripped=!0;var ne=l({props:["response"],i18n:{messages:{ru:{"TTN successful created":"Экспресс-накладная успешно создана",Print:"Распечатать","You can also access your ttn by going to":"Вы также можете получить доступ к своей ТТН, перейдя в","TTN list":"Список экспрес-накладных","Back to order":"Вернуться в заказ"},ua:{"TTN successful created":"Експрес-накладна успішно створена",Print:"Роздрукувати","You can also access your ttn by going to":"Ви також можете отримати доступ до своєї ТТН, перейшовши у","TTN list":"Список експрес-накладних","Back to order":"Повернутися у замовлення"}}},computed:{ttnNumber(){return this.response.ttn.IntDocNumber}},methods:{printTTN:function(){window.WCUkrShipping.Printer.open(this.response.ttn_db_id)}}},se,[],!1,null,null,null);ne.options.__file="frontend/js/ttn-form/components/success-section.vue";var re=l({components:{RecipientSection:ae,"common-section":x,"sender-section":Q,"recipient-section":ae,"success-section":ne.exports},i18n:{messages:{ru:{form_title:"Новая экспресс-накладная",btn_submit:"Создать накладную",btn_add_to_tracking:"Добавить в трекинг"},ua:{form_title:"Нова експрес-накладна",btn_submit:"Створити накладну",btn_add_to_tracking:"Додати у трекінг"},en:{form_title:"New document",btn_submit:"Create document",btn_add_to_tracking:"Add to tracking"}}},computed:{isLocked:function(){return this.$store.state.ttn.locked},created:function(){return this.$store.state.ttn.created},createdData:function(){return this.$store.state.ttn.createdData},autoTracking:{get:function(){return this.$store.state.ttn.options.autoTracking},set:function(e){this.$store.state.ttn.options.autoTracking=e?1:0}}},methods:{save:function(){this.$store.dispatch("ttn/save")}}},r,[],!1,null,null,null);re.options.__file="frontend/js/ttn-form/components/form.vue";const ie=re.exports;window.WcusTtn={init(t){WCUkrShipping.UI.registerStore("ttn",function(t){return{modules:{recipient:e(wcus_ttn_form_state.recipient),sender:e(wcus_ttn_form_state.sender)},state:{ttn:wcus_ttn_form_state.ttn,options:t,locked:!1,created:!1,createdData:{}},mutations:{lock:function(e){e.locked=!0},unlock:function(e){e.locked=!1},create:function(e,t){e.created=!0,e.createdData=t},activateSeatParams:function(e){e.ttn.global_params=0},clearOrganizationInfo:function(e){e.recipient.organization_ref="",e.recipient.organization_ownership="",e.recipient.organization_ownership_form="",e.recipient.organization_name=""},togglePaymentControl:function(e,t){e.ttn.payment_control=t?1:0,t&&(e.ttn.backward_delivery=0)},toggleBackwardDelivery:function(e,t){e.ttn.backward_delivery=t?1:0,t&&(e.ttn.payment_control=0)},addSeat:function(e){e.ttn.seats.push({id:n++,weight:"",width:"",height:"",length:"",box:0})},removeSeat:function(e,t){if(1!==e.ttn.seats.length)for(let a=0;a<e.ttn.seats.length;a++)if(e.ttn.seats[a].id===t)return void e.ttn.seats.splice(a,1)}},actions:{save:function(e){e.state.locked||(e.commit("lock"),s(e.state).then((function(t){e.commit("unlock"),e.commit("create",t)})).catch((function(t){e.commit("unlock"),alert(t.join("\n"))})))},searchOrganization:function(e){return t=e.state.recipient.edrpou,new Promise(((e,s)=>{a("wcus_counterparty_create_organization",{edrpou:t}).success((function(t){t.success?e(t.data):s(t.errors)}))}));var t}}}}(t)),WCUkrShipping.UI.createApp("#wcus-ttn-form",{render:e=>e(ie)})}}})();